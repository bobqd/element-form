!function(t){var e={};function a(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=6)}([function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){t.exports=a(13)},function(t,e,a){"use strict";var i=a(0);a.n(i).a},function(t,e,a){"use strict";var i=a(1);a.n(i).a},function(t,e,a){"use strict";var i=a(2);a.n(i).a},function(t,e,a){"use strict";var i=a(3);a.n(i).a},function(t,e,a){"use strict";var i=a(4);a.n(i).a},function(t,e,a){"use strict";var i=a(5);a.n(i).a},function(t,e,a){"use strict";a.r(e),a.d(e,"install",(function(){return I})),a.d(e,"version",(function(){return R})),a.d(e,"Button",(function(){return n})),a.d(e,"Form",(function(){return O})),a.d(e,"MyComponent",(function(){return j}));var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"v-button",on:{click:function(e){return t.handle()}}},[t._v("按钮 ")])};i._withStripped=!0;var s={name:"v-button",methods:{handle(){this.$emit("click")}}};a(7);function l(t,e,a,i,s,l,o,n){var r,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=a,d._compiled=!0),i&&(d.functional=!0),l&&(d._scopeId="data-v-"+l),o?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=r):s&&(r=n?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),r)if(d.functional){d._injectStyles=r;var u=d.render;d.render=function(t,e){return r.call(e),u(t,e)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,r):[r]}return{exports:t,options:d}}var o=l(s,i,[],!1,null,"06065e26",null);o.options.__file="src/Button/Button.vue";var n=o.exports,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.isDetail?"hc-form-detail":""},[a(t.C("form"),{ref:"editForm",tag:"component",staticClass:"edit-fields",attrs:{model:t.formModel,disabled:t.disabled,rules:t.rules,"label-width":t.labelWidth||"element-ui"===t.libName()?"100px":100,inline:!1}},[a(t.C("row"),{tag:"component",staticStyle:{width:"100%"}},[t.isTabs?a(t.C("tabs"),{tag:"component",on:{"tab-click":t.handlerTabsClick},model:{value:t.tabsActive,callback:function(e){t.tabsActive=e},expression:"tabsActive"}},t._l(t.tabsData,(function(e,i){return a(t.C("tab-pane"),{key:i,tag:"component",attrs:{label:e.title,name:e.title}},t._l(e.tabs,(function(e,i){return a("div",{key:i},["group"===e.type?a(t.C("col"),{tag:"component",attrs:{span:24}},[a("span",{staticClass:"form-group-title",domProps:{innerHTML:t._s(e.title)}}),a("hr",{staticClass:"form-hr"})]):a(t.C("col"),{tag:"component",attrs:{span:e.span||12}},[!e.show||e.show(t.formModel)?a(t.C("form-item"),{tag:"component",staticClass:"edit-field-container",style:{width:e.width},attrs:{prop:e.data,label:e.title+(t.isDetail?"：":"")}},[a("keep-alive",[a(t.C(e.type),t._g(t._b({tag:"component",attrs:{disabled:t.isDetail||t.disabled,isDetail:t.isDetail},model:{value:t.formModel[e.data],callback:function(a){t.$set(t.formModel,e.data,a)},expression:"formModel[item.data]"}},"component","function"==typeof e.props?e.props(t.formModel):e.props,!1),t.disposeEvent(e.events,t.formModel,e,t.rulesDataMap,t.hideDataMap)),[t._l(e.slots,(function(e,i){return a("template",{slot:e.name},[a("span",{key:i},[a(e.type||"span",t._g(t._b({tag:"component",domProps:{innerHTML:t._s(e.html)},model:{value:t.formModel[e.data],callback:function(a){t.$set(t.formModel,e.data,a)},expression:"formModel[items.data]"}},"component",e.props,!1),t.disposeEvent(e.events,t.formModel,e)))],1)])}))],2)],1),a("span",{staticClass:"v-notice"},[t._v(t._s("function"==typeof e.message?e.message(t.formModel):e.message)+"\n                ")])],1):t._e()],1),e.row?a(t.C("col"),{tag:"component",attrs:{span:24}}):t._e()],1)})),0)})),1):t._l(t.data,(function(e,i){return a("div",{key:i},[t.isHide(e)?t._e():["group"===e.type?a(t.C("col"),{tag:"component",attrs:{span:24}},[a("span",{staticClass:"form-group-title",domProps:{innerHTML:t._s(e.title)}}),a("hr",{staticClass:"form-hr"})]):a(t.C("col"),{tag:"component",attrs:{span:e.span||12}},[!e.show||e.show(t.formModel)?a(t.C("form-item"),{tag:"component",staticClass:"edit-field-container",style:{width:e.width},attrs:{prop:e.data,label:e.title+(t.isDetail?"：":"")}},[a("keep-alive",[a(t.C(e.type),t._g(t._b({tag:"component",attrs:{disabled:t.isDetail||t.disabled,isDetail:t.isDetail},model:{value:t.formModel[e.data],callback:function(a){t.$set(t.formModel,e.data,a)},expression:"formModel[item.data]"}},"component","function"==typeof e.props?e.props(t.formModel):e.props,!1),t.disposeEvent(e.events,t.formModel,e,t.rulesDataMap,t.hideDataMap)),[t._l(e.slots,(function(e,i){return a("template",{slot:e.name},[a("span",{key:i},[a(e.type||"span",t._g(t._b({tag:"component",domProps:{innerHTML:t._s(e.html)},model:{value:t.formModel[e.data],callback:function(a){t.$set(t.formModel,e.data,a)},expression:"formModel[items.data]"}},"component",e.props,!1),t.disposeEvent(e.events,t.formModel)))],1)])}))],2)],1),a("span",{staticClass:"v-notice"},[t._v(t._s("function"==typeof e.message?e.message(t.formModel):e.message)+"\n              ")])],1):t._e()],1),e.row?a(t.C("col"),{tag:"component",attrs:{span:24}}):t._e()]],2)}))],2),a(t.C("form-item"),{directives:[{name:"show",rawName:"v-show",value:!t.isDetail,expression:"!isDetail"}],tag:"component"},[t._t("buttons",null,{value:t.formModel}),t.$slots.buttons?t._e():[a(t.C("button"),{tag:"component",attrs:{loading:t.isSubmitLoading,type:"primary"},on:{click:t.handlerSubmit}},[t._v(t._s(t.submitText))]),a(t.C("button"),{tag:"component",on:{click:t.handlerEmpty}},[t._v("清空")])],t._t("button-append",null,{value:t.formModel})],2)],1)],1)};r._withStripped=!0;const d={el:{"auto-complete":"el-input",transfers:"el-transfer",dialog:"el-dialog"},iv:{switch:"i-switch",transfers:"Transfer",dialog:"Modal"}},u=()=>window.componentLib||"element-ui",c=t=>{const e=window.componentLib||"element-ui";if(["selects","checkboxs","radios","uploads","slider","transfer","div","span","i"].includes(t)||"c-"===t.slice(0,2))return t;switch(e){case"element-ui":return d.el[t]||"el-"+t;case"iview":return d.iv[t]||t.replace(/(^|-)(\w)/g,(t,e,a)=>a.toUpperCase())}};var p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.C("select"),t._g(t._b({tag:"component",staticStyle:{width:"100%"},attrs:{disabled:t.disabled},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},"component",t.selectAttr,!1),t._events),t._l(t.options,(function(e,i){return a(t.C("option"),t._g(t._b({key:i,tag:"component",attrs:{label:e[t.props.label||"label"],value:e[t.props.value||"value"]}},"component",t.optionAttr,!1),t._events))})),1)};p._withStripped=!0;var h=l({props:{value:{},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},optionAttr:{type:Object,default:()=>({})},selectAttr:{type:Object,default:()=>({placeholder:"请选择"})},props:{default:()=>({})}},data(){return{selectValue:this.value}},watch:{selectValue:{handler(t){t&&this.$emit("input",t)},immediate:!0},value(t){this.selectValue=t}},methods:{C:c,libName:u}},p,[],!1,null,null,null);h.options.__file="src/Form/components/selects/index.vue";var f=h.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.C("checkbox-group"),{tag:"component",staticClass:"hc-form-checkbox",attrs:{disabled:t.disabled},model:{value:t.checkboxValue,callback:function(e){t.checkboxValue=e},expression:"checkboxValue"}},t._l(t.options,(function(e,i){return a(t.C(t.checkboxItem),t._b({key:i,tag:"component",attrs:{disabled:t.disabled||e.disabled,label:e[t.props.label||"label"]}},"component",e.props||t.$attrs,!1))})),1)};m._withStripped=!0;var b={props:{value:{},options:{type:Array,default:()=>[]},checkboxItem:{type:String,default:"checkbox"},disabled:{type:Boolean,default:!1},props:{default:()=>({})}},data(){return{checkboxValue:this.value||[]}},watch:{checkboxValue:{handler(t){t&&this.$emit("input",t||[])},immediate:!0},value(t){this.checkboxValue=t||[]}},methods:{C:c,libName:u}},v=(a(8),l(b,m,[],!1,null,null,null));v.options.__file="src/Form/components/checkboxs/index.vue";var _=v.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hc-form-radio"},["element-ui"===t.libName()?a("el-radio-group",t._g(t._b({attrs:{disabled:t.disabled},model:{value:t.radioValue,callback:function(e){t.radioValue=e},expression:"radioValue"}},"el-radio-group",t.groupAttr,!1),t._events),[t._l(t.options,(function(e,i){return"button"!==t.radioItem?a("el-radio",t._g(t._b({attrs:{label:e[t.props.label||"label"]}},"el-radio",t.radioAttr,!1),t._events),[t._v(t._s(e[t.props.label||"label"]))]):t._e()})),t._l(t.options,(function(e,i){return"button"===t.radioItem?a("el-radio-button",t._g(t._b({attrs:{label:e[t.props.label||"label"]}},"el-radio-button",t.radioAttr,!1),t._events),[t._v(t._s(e[t.props.label||"label"]))]):t._e()}))],2):a("RadioGroup",t._g(t._b({attrs:{disabled:t.disabled},model:{value:t.radioValue,callback:function(e){t.radioValue=e},expression:"radioValue"}},"RadioGroup",t.groupAttr,!1),t._events),t._l(t.options,(function(e,i){return a("Radio",t._g(t._b({attrs:{disabled:t.disabled||e.disabled,label:e[t.props.label||"label"]}},"Radio",t.radioAttr,!1),t._events))})),1)],1)};g._withStripped=!0;var y={name:"radios",props:{value:{},options:{type:Array,default:()=>[]},radioItem:{type:String,default:""},disabled:{type:Boolean,default:!1},props:{default:()=>({})},groupAttr:{type:Object,default:()=>({})},radioAttr:{type:Object,default:()=>({})}},data(){return{radioValue:this.value||""}},watch:{radioValue:{handler(t){this.$emit("input",t)},immediate:!0},value(t){this.radioValue=t}},methods:{C:c,libName:u}},w=(a(9),l(y,g,[],!1,null,null,null));w.options.__file="src/Form/components/radios/index.vue";var M=w.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.C("slider"),t._b({directives:[{name:"show",rawName:"v-show",value:!t.$attrs.isDetail,expression:"!$attrs.isDetail"}],tag:"component",attrs:{disabled:t.disabled},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}},"component",t.$attrs,!1)),a("div",{directives:[{name:"show",rawName:"v-show",value:t.$attrs.isDetail,expression:"$attrs.isDetail"}]},[t._v(t._s(t.sliderValue||0))])],1)};x._withStripped=!0;var C=l({props:{value:{},disabled:{}},data(){return{sliderValue:this.value||0}},watch:{sliderValue:{handler(t){this.$emit("input",t)},immediate:!0},value(t){this.sliderValue=t}},methods:{C:c}},x,[],!1,null,null,null);C.options.__file="src/Form/components/slider/index.vue";var $=C.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$attrs.isDetail?t._e():a(t.C("transfers"),t._g(t._b({tag:"component",attrs:{data:t.$attrs.data},model:{value:t.transferValue,callback:function(e){t.transferValue=e},expression:"transferValue"}},"component",t.$attrs,!1),t._events)),t.$attrs.isDetail?a("div",[t._v(t._s(t.transferLabel.join()||"-"))]):t._e()],1)};k._withStripped=!0;var V=l({props:{value:{}},data(){return{transferValue:this.value||[],transferLabel:[]}},watch:{transferValue:{handler(t){this.$emit("input",t||[])},immediate:!0},value(t){this.transferValue=t||[],this.getTransferLabel()},"$attrs.targetKeys"(t){"iview"===u()&&(this.$emit("input",t),this.getTransferLabel())}},methods:{C:c,getTransferLabel(){this.transferLabel=[],this.$attrs.data.forEach(t=>{this.transferValue.forEach(e=>{e===t.key&&this.transferLabel.push(t.label)})})}},mounted(){this.getTransferLabel()}},k,[],!1,null,null,null);V.options.__file="src/Form/components/transfer/index.vue";var S=V.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hc-form-upload",class:{"hc-upload-limit":t.isLimit,"hc-upload-disabled":t.disabled}},[t._l(t.uploadList,(function(e){return"iview"===t.libName()?a("div",{staticClass:"hc-form-upload-list"},["finished"===e.status?[a("img",{attrs:{src:e.url}}),a("div",{staticClass:"hc-form-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return t.handlerPreview(e)}}}),t.disabled?t._e():a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return t.handleRemove(e)}}})],1)]:[e.showProgress?a("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2):t._e()})),a(t.C("upload"),t._b({ref:"form-upload",tag:"component",class:"iview"===t.libName()?"hc-iv-upload":"",attrs:{"on-preview":t.handlerPreview,"before-upload":t.handleBeforeUpload,"on-success":t.handlerSuccess,"on-remove":t.handleRemove,"default-file-list":t.uploadList},model:{value:t.uploadList,callback:function(e){t.uploadList=e},expression:"uploadList"}},"component",Object.assign({},{listType:"picture-card"},t.$attrs),!1),["iview"===t.libName()?[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]:t._e(),"picture-card"!==t.$attrs.listType&&t.$attrs.listType?t._e():a("i",{staticClass:"el-icon-plus"})],2),a(t.C("dialog"),{tag:"component",attrs:{title:"图片预览",visible:t.visible},on:{"update:visible":function(e){t.visible=e}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgSrc}}):t._e()])],2)};L._withStripped=!0;var D={props:{value:{},disabled:{}},data(){return{uploadList:this.value||[],visible:!1,iviewFileUrl:"",imgSrc:""}},watch:{"$attrs.defaultFileList"(t){this.uploadList=t},value(t){console.log({val:t}),this.uploadList=t||[],this.uploadList.length<=0&&"function"==typeof this.$refs["form-upload"].clearFiles&&this.$refs["form-upload"].clearFiles()},uploadList(t){this.$emit("input",t)}},computed:{isLimit(){return!!(this.$attrs.limit&&this.$attrs.limit<=this.uploadList.length||this.disabled)}},methods:{C:c,libName:u,handlerPreview(t){"function"==typeof this.$attrs.handlerPreview?this.$attrs.handlerPreview(t,uploadList):(this.imgSrc=t.url,this.visible=!0)},handleBeforeUpload(t){!function(t,e){var a=new FileReader;a.readAsDataURL(t),a.onload=function(){e&&e(a)},a.onerror=function(t){console.log("Error: ",t)}}(t,t=>{this.iviewFileUrl=t.result})},handlerSuccess(t,e,a){"iview"===this.libName()?this.uploadList.push({url:this.iviewFileUrl,...e}):this.uploadList=a,"function"==typeof this.$attrs.onSuccess&&this.$attrs.onSuccess(t,e,a,this.uploadList)},handleRemove(t,e){if(e)this.uploadList=e;else{let e=this.uploadList.findIndex(e=>e.uid===t.uid);this.uploadList.splice(e,1)}}}},E=(a(10),l(D,L,[],!1,null,null,null));E.options.__file="src/Form/components/uploads/index.vue";var T={name:"v-form",components:{selects:f,checkboxs:_,radios:M,slider:$,transfer:S,uploads:E.exports},props:{value:{type:Object,default:()=>({})},data:{type:Array,required:!0,default:()=>[]},labelWidth:{type:[Number,String,null],default:""},readonly:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},params:[Object,null],apiUrl:String,submit:Function},data(){let t=t=>{let e={};return this.data.forEach(a=>{e[a.data]=a[t]||!1}),e};return{editModel:this.value||{},tabsData:[],tabsActive:"",tabsArray:[],rulesDataMap:t("loseRule"),hideDataMap:t("hide"),isSubmitLoading:!1}},provide(){return{edit:this.getEditModel}},computed:{rules(){const t=this.data.filter(t=>{if(!this.rulesDataMap[t.data])return t.rules}),e={};return t.forEach(t=>{e[t.data]=t.rules}),this.$refs.editForm&&this.$refs.editForm.clearValidate&&this.$refs.editForm.clearValidate(),this.$refs.editForm&&(this.$refs.editForm.fields||[]).forEach(t=>{t.validateDisabled=!0,t.validateState="",t.validateMessage=""}),t.length>0?e:null},submitText(){let t=this.tabsArray.findIndex(t=>(t||{}).tab===this.tabsActive);return this.isTabs&&t===this.tabsArray.length-1?this.options.submitText||"提交":this.isTabs&&t!=this.tabsArray.length-1?"下一步":this.options.submitText||"提交"},isTabs(){return!!this.options.isTabs},isDetail(){return!!this.options.isDetail},disabled(){return!!this.options.disabled||this.isSubmitLoading},formModel(){if(this.isDetail){let t={};for(const e in this.editModel)this.editModel.hasOwnProperty(e)&&"string"==typeof this.editModel[e]&&(t[e]=this.editModel[e]||"-");return this.data.forEach(e=>{"input"===e.type?t[e.data]=this.editModel[e.data]||"-":e.data&&(t[e.data]=this.editModel[e.data])}),t}return this.editModel}},watch:{value(t){this.editModel=t||{}},editModel(t){this.$emit("input",t)}},mounted(){this.value?this.editModel=JSON.parse(JSON.stringify(this.value)):this.initialize(),this.changeDataToTabs()},methods:{C:c,libName:u,isHide(t){return this.hideDataMap[t.data]},changeDataToTabs(){const t=this.data;let e=[],a=-1;t.forEach((t,i)=>{"group"===t.type?(a+=1,this.tabsArray.push({tab:t.title,index:a}),e.push({title:t.title,tabs:[]})):-1!=a&&e[a].tabs.push(t)}),this.tabsData=e,this.tabsActive=(this.tabsArray[0]||{}).tab||""},handlerTabsClick(){},async handlerSubmit(){let t=this.tabsArray.findIndex(t=>(t||{}).tab===this.tabsActive);if(this.isTabs&&t!=this.tabsArray.length-1)this.tabsActive=(this.tabsArray[t+1]||{}).tab;else{const t=await this.getModel();if(!1!==t){const e="function"==typeof this.options.packParameter?this.options.packParameter(t):t;this.isSubmitLoading=!0,this.submit&&this.submit(e,()=>{this.isSubmitLoading=!1})}}},handlerEmpty(){this.editModel={}},getEditModel(){return this.editModel},disposeEvent(t,e,a,i,s){const l={};return t&&Object.keys(t).forEach(o=>{l[o]=function(...l){t[o]({model:e,row:a,ruleMap:i,hideMap:s},...l)}}),l},async validateForm(){return await this.$refs.editForm.validate()},filterHideModel(){let t={};for(const e in this.editModel)this.editModel.hasOwnProperty(e)&&(this.hideDataMap[e]||(t[e]=this.editModel[e]));return t},async getModel(){try{if(this.rules){return!!await this.validateForm()&&this.filterHideModel()}return this.filterHideModel()}catch(t){return!1}},initialize(){this.data.forEach(t=>{t.value&&(this.editModel[t.data]=t.value),t.slots&&t.slots.forEach(t=>{this.editModel[t.data]=t.value})})},async initData(t){this.initialize();const e=await request({url:this.apiUrl,params:t,method:"get"}),a=Object.assign(this.editModel,e.data);this.editModel=JSON.parse(JSON.stringify(a))}}},A=(a(11),l(T,r,[],!1,null,null,null));A.options.__file="src/Form/index.vue";var O=A.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hc-com"},[a("h4",[t._v("我是一个自定义组件："+t._s(t.calendarValue)+"-")]),a("el-calendar",{model:{value:t.calendarValue,callback:function(e){t.calendarValue=e},expression:"calendarValue"}})],1)};F._withStripped=!0;var N={name:"c-component",props:{value:{}},watch:{value(t){this.calendarValue=t||new Date},calendarValue(t){this.$emit("input",t)}},data(){return{calendarValue:this.value}}},P=(a(12),l(N,F,[],!1,null,"c7ee066c",null));P.options.__file="src/MyComponent/MyComponent.vue";var j=P.exports;const R="1.0.0";function I(t){[n,O,j].forEach(e=>{e.install?t.use(e):e.name&&t.component(e.name,e)})}"undefined"!=typeof window&&window.Vue&&I(window.Vue);e.default={install:I,version:R}}]);